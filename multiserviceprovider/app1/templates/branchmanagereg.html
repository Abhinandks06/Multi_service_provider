{% load static%}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Multiservice Provider</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/x-icon" href="{% static 'userassets/img/icon.png' %}">
    <link rel="stylesheet" href="{% static 'userassets/css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'userassets/css/font-awesome.min.css' %}">
    <link rel="stylesheet" href="{% static 'userassets/css/style.css' %}">
    <style>
        .container {
            margin-top: 150px;
        }

        h2 {
            text-align: center;
        }

        /* Style for form elements */
        form {
            width: 50%;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            border: 2px solid ; /* Add border */
            border-radius: 10px; /* Add border-radius for rounded corners */
            padding: 20px; /* Add padding for spacing inside the form */
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.5); /* Add shadow */
        }

        form label {
            width: 70%;
            text-align: left;
            margin-bottom: 5px;
            color: white;
            font-weight: bold;
            font-size: 13px;
        }

        form input {
            width: 70%;
            padding: 8px;
            margin-bottom: 10px;
            border-radius: 5px;
        }

        {% if messages %}
        ul.messages {
            list-style: none;
            padding: 0;
        }

        ul.messages li {
            margin-bottom: 5px;
            color: red; /* Adjust the color as needed */
        }
        {% endif %}

        form button {
            text-align: center;
            margin-top: 20px;
            padding: 10px;
        }
    </style>
</head>

<body style="background: linear-gradient(to right, #141e30, #243b55);">
    <!-- Header Area Start -->
    <header class="header-area header-sticky">
        <div class="header-container">
            <div class="row">
                <div class="col-lg-2 col-sm-4">
                    <div class="logo text-center">
                        <div> <h1 class="logo-text"><a href="providerpage" class="logo-text">MULTISERVICE <span class="provider-text">PROVIDER</span></a></h1></div>
                        
                       
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!-- Header Area End -->

    <!-- Container Div Start -->
    <div class="container" style="margin-top: 150px;">
        <form id="managerRegistrationForm" method="post" action="{% url 'manager_registration' provider_id=provider.providerid branch_id=branch_id %}">
            <h2 style="margin-bottom: 30px; color: white; font-weight: bolder">Manager Registration</h2>
    
            {% csrf_token %}
            
            <!-- Manager Details -->
            <label for="user_name">User Name:</label>
            <input type="text" name="user_name" id="user_name" required minlength="4" maxlength="12" pattern="[A-Za-z]+" title="Only alphabets allowed">
    
            <label for="email">Email:</label>
            <input type="email" name="email" id="email" required pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}" title="Enter a valid email address">
    
            <label for="phone_no">Phone Number:</label>
            <input type="text" name="phone_no" id="phone_no" required pattern="[6-9][0-9]{9}" title="Enter a valid 10-digit phone number starting with 6, 7, 8, or 9">
    
            <label for="state">State:</label>
            <input type="text" name="state" value="Kerala" required readonly>
    
            <label for="district">District:</label>
            <select name="district" id="district" required>
                <option value="" disabled selected>Select a district</option>
                <option value="Thiruvananthapuram">Thiruvananthapuram</option>
                <option value="Kollam">Kollam</option>
                <option value="Pathanamthitta">Pathanamthitta</option>
                <option value="Alappuzha">Alappuzha</option>
                <option value="Kottayam">Kottayam</option>
                <option value="Idukki">Idukki</option>
                <option value="Ernakulam">Ernakulam</option>
                <option value="Thrissur">Thrissur</option>
                <option value="Palakkad">Palakkad</option>
                <option value="Malappuram">Malappuram</option>
                <option value="Kozhikode">Kozhikode</option>
                <option value="Wayanad">Wayanad</option>
                <option value="Kannur">Kannur</option>
                <option value="Kasaragod">Kasaragod</option>
            </select>
    
            <label for="pincode">Pincode:</label>
            <input type="text" name="pincode" id="pincode" required pattern="^6[0-9]{5}$" title="Enter a valid 6-digit pincode starting with 6">
    
            {% if messages %}
                <ul class="messages">
                    {% for message in messages %}
                        <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
    
            <button type="button" onclick="validateForm()">Register Manager</button>
        </form>
    
        <script>
            function validateForm() {
                var userNameInput = document.getElementById('user_name');
                var emailInput = document.getElementById('email');
                var phoneNoInput = document.getElementById('phone_no');
                var districtInput = document.getElementById('district');
                var pincodeInput = document.getElementById('pincode');
    
                if (!validateUserName(userNameInput) ||
                    !validateEmail(emailInput) ||
                    !validatePhoneNo(phoneNoInput) ||
                    !validateDistrict(districtInput) ||
                    !validatePincode(pincodeInput)) {
                    return;
                }
    
                // If all validations pass, submit the form
                document.getElementById('managerRegistrationForm').submit();
            }
    
            function validateUserName(input) {
                var value = input.value.trim();
                if (value.length < 4 || value.length > 12 || !/^[A-Za-z]+$/.test(value)) {
                    alert('Invalid User Name. It should be between 4 and 12 characters and contain only alphabets.');
                    return false;
                }
                return true;
            }
    
            function validateEmail(input) {
                var value = input.value.trim();
                var emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
                if (!emailRegex.test(value)) {
                    alert('Invalid Email. Please enter a valid email address.');
                    return false;
                }
                return true;
            }
    
            function validatePhoneNo(input) {
                var value = input.value.trim();
                var phoneRegex = /^[6-9][0-9]{9}$/;
                if (!phoneRegex.test(value)) {
                    alert('Invalid Phone Number. Please enter a valid 10-digit phone number starting with 6, 7, 8, or 9.');
                    return false;
                }
                return true;
            }
    
            function validateDistrict(input) {
                if (input.value === '') {
                    alert('Please select a district.');
                    return false;
                }
                return true;
            }
    
            function validatePincode(input) {
                var value = input.value.trim();
                var pincodeRegex = /^6[0-9]{5}$/;
                if (!pincodeRegex.test(value)) {
                    alert('Invalid Pincode. Please enter a valid 6-digit pincode starting with 6.');
                    return false;
                }
                return true;
            }
        </script>
    </div>
    
    <!-- Container Div End -->

    <!-- Footer Area Start -->
    <footer class="footer-widget-area">
        <div class="container">
            <div class="row">
                <div class="col-lg-6 col-md-6">
                    <div class="footer-text-bottom">
                        <p>Copyright &copy; <a href="#">multiserviceprovider</a>. All Rights Reserved</p>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- Footer Area End -->

    <!-- All js here -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
        $(document).ready(function () {
            // Enable Bootstrap dropdown on hover
            $('.dropdown').hover(function () {
                $(this).addClass('show');
                $(this).find('.dropdown-menu').addClass('show');
            }, function () {
                $(this).removeClass('show');
                $(this).find('.dropdown-menu').removeClass('show');
            });
        });
    </script>
    <script src="{% static 'userassets/js/vendor/jquery-3.6.0.min.js' %}"></script>
    <script src="{% static 'userassets/js/bootstrap.min.js' %}"></script>
    <script src="{% static 'userassets/js/main.js' %}"></script>
</body>

</html>
